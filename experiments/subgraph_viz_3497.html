
<!DOCTYPE html>
<html>
<head>
    <title>Search Results: bike manual instructions</title>
    <script src="https://unpkg.com/cytoscape@3.23.0/dist/cytoscape.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        .header {
            text-align: center;
            margin-bottom: 20px;
        }
        
        .header h1 {
            color: #333;
            margin: 0;
        }
        
        .header p {
            color: #666;
            margin: 5px 0;
        }
        
        .container {
            display: flex;
            gap: 20px;
            height: 80vh;
        }
        
        #cy {
            background-color: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            flex: 1;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .info-panel {
            width: 300px;
            background-color: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            overflow-y: auto;
        }
        
        .info-panel h3 {
            margin-top: 0;
            color: #333;
        }
        
        .node-info {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 15px;
        }
        
        .node-info h4 {
            margin: 0 0 10px 0;
            color: #495057;
        }
        
        .node-info p {
            margin: 5px 0;
            font-size: 14px;
        }
        
        .similarity-score {
            background-color: #e3f2fd;
            padding: 5px 10px;
            border-radius: 3px;
            font-weight: bold;
            color: #1976d2;
        }
        
        .legend {
            margin-top: 20px;
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 5px;
        }
        
                         .legend h4 {
                     margin: 0 0 10px 0;
                 }
                 
                 .legend-item {
                     display: flex;
                     align-items: center;
                     margin: 5px 0;
                     font-size: 14px;
                 }
                 
                 .legend-color {
                     width: 20px;
                     height: 20px;
                     border-radius: 3px;
                     margin-right: 10px;
                 }
                 
                 .expansion-info {
                     background-color: #fff3cd;
                     padding: 10px;
                     border-radius: 5px;
                     margin-bottom: 15px;
                     border-left: 4px solid #ffc107;
                 }
        
        .stats {
            background-color: #e8f5e8;
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 15px;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>Search Results: bike manual instructions</h1>
        <p>Interactive visualization of knowledge graph nodes similar to your search query</p>
    </div>
    
    <div class="container">
        <div id="cy"></div>
        <div class="info-panel">
            <div class="stats">
                <h3>Graph Statistics</h3>
                <p><strong>Nodes:</strong> <span id="node-count">23</span></p>
                <p><strong>Relationships:</strong> <span id="edge-count">60</span></p>
            </div>
            
            <div id="selection-info">
                <h3>Node Information</h3>
                <p>Click on a node to see details</p>
            </div>
            
                         <div class="expansion-info">
                 <h4>ðŸ”— Expanded Subgraph</h4>
                 <p>Shows matched nodes + connected nodes via ANNOTATION and DESCRIBED_BY relationships</p>
             </div>
             
             <div class="legend">
                 <h4>Node Types</h4>
                 <div class="legend-item">
                     <div class="legend-color" style="background-color: #ff6b6b;"></div>
                     <span>High Similarity (>0.7)</span>
                 </div>
                 <div class="legend-item">
                     <div class="legend-color" style="background-color: #4ecdc4;"></div>
                     <span>Medium Similarity (0.4-0.7)</span>
                 </div>
                 <div class="legend-item">
                     <div class="legend-color" style="background-color: #45b7d1;"></div>
                     <span>Low Similarity (<0.4)</span>
                 </div>
                 <div class="legend-item">
                     <div class="legend-color" style="background-color: #95a5a6; border: 2px dashed #7f8c8d;"></div>
                     <span>Connected Nodes</span>
                 </div>
             </div>
        </div>
    </div>
    
    <script>
        // Initialize Cytoscape
        const cy = cytoscape({
            container: document.getElementById('cy'),
            
            elements: [
                ...[
  {
    "data": {
      "id": "result_0",
      "label": "Mountain Bike Manual.pdf",
      "similarity_score": 0.5874583642426274,
      "type": "Document",
      "content": "PDF Document: Mountain Bike Manual. Page 1: 1. Safety Precautions \u25cf Always wear a helmet and protective gear (knee/elbow pads). \u25cf Inspect your bike before each ride (tires, brakes, chain, and handleba",
      "neo4j_data": {
        "id": "Mountain Bike Manual.pdf",
        "name": "Mountain Bike Manual.pdf",
        "document": "Mountain Bike Manual",
        "type": null,
        "labels": [
          "Document"
        ]
      },
      "has_neo4j": true
    }
  },
  {
    "data": {
      "id": "result_1",
      "label": "Mountain Bike Manual.pdf",
      "similarity_score": 0.5422036836090954,
      "type": "Document",
      "content": "Document: Mountain Bike Manual. Contains structured information. Tire Pressure (PSI).Cross-Country: 30-50. Tire Pressure (PSI).Trail Riding: 25-35. Tire Pressure (PSI).Downhill: 20-30",
      "neo4j_data": {
        "id": "Mountain Bike Manual.pdf",
        "name": "Mountain Bike Manual.pdf",
        "document": "Mountain Bike Manual",
        "type": null,
        "labels": [
          "Document"
        ]
      },
      "has_neo4j": true
    }
  },
  {
    "data": {
      "id": "result_2",
      "label": "Mountain Bike Manual.pdf",
      "similarity_score": 0.5396713415700225,
      "type": "Document",
      "content": "PDF Document: Mountain Bike Manual. r saddle, and use controlled braking. 4. Maintenance Tips \u25cf Clean and lubricate the chain regularly. \u25cf Check tire pressure before rides (see recommended PSI in Tabl",
      "neo4j_data": {
        "id": "Mountain Bike Manual.pdf",
        "name": "Mountain Bike Manual.pdf",
        "document": "Mountain Bike Manual",
        "type": null,
        "labels": [
          "Document"
        ]
      },
      "has_neo4j": true
    }
  },
  {
    "data": {
      "id": "result_3",
      "label": "Mountain Bike Manual.pdf",
      "similarity_score": 0.5183940877961983,
      "type": "Document",
      "content": "Document: Mountain Bike Manual. Contains structured information. Gear Usage.Low Gear (1-3): Steep climbs. Gear Usage.Mid Gear (4-6): Flat trails. Gear Usage.High Gear (7-9): Downhill/descents",
      "neo4j_data": {
        "id": "Mountain Bike Manual.pdf",
        "name": "Mountain Bike Manual.pdf",
        "document": "Mountain Bike Manual",
        "type": null,
        "labels": [
          "Document"
        ]
      },
      "has_neo4j": true
    }
  },
  {
    "data": {
      "id": "result_4",
      "label": "ProductDescription[209]",
      "similarity_score": 0.43964571882971826,
      "type": "ProductDescription",
      "content": "Table: ProductDescription. Description: Entry level adult bike; offers a comfortable ride cross-country or down the block. Quick-release hubs and rims.. rowguid: F5FF5FFD-CB7C-4AD6-BBC9-4D250BB6E98D. ",
      "metadata": {
        "id": "ProductDescription_9",
        "type": "database_table",
        "table_name": "ProductDescription",
        "row_index": 9,
        "source_file": "data/ProductDescription.csv",
        "entity_id": 209
      },
      "has_neo4j": false
    }
  },
  {
    "data": {
      "id": "result_5",
      "label": "ProductDescription[321]",
      "similarity_score": 0.4253486948865891,
      "type": "ProductDescription",
      "content": "Table: ProductDescription. Description: Same technology as all of our Road series bikes.  Perfect all-around bike for road or racing.. rowguid: C7B429DA-DC51-47DB-A18E-5891E76CCC16. ProductDescription",
      "metadata": {
        "id": "ProductDescription_12",
        "type": "database_table",
        "table_name": "ProductDescription",
        "row_index": 12,
        "source_file": "data/ProductDescription.csv",
        "entity_id": 321
      },
      "has_neo4j": false
    }
  },
  {
    "data": {
      "id": "result_6",
      "label": "ProductDescription[457]",
      "similarity_score": 0.41604246404431666,
      "type": "ProductDescription",
      "content": "Table: ProductDescription. Description: This bike is ridden by race winners. Developed with the Adventure Works Cycles professional race team, it has a extremely light heat-treated aluminum frame, and",
      "metadata": {
        "id": "ProductDescription_17",
        "type": "database_table",
        "table_name": "ProductDescription",
        "row_index": 17,
        "source_file": "data/ProductDescription.csv",
        "entity_id": 457
      },
      "has_neo4j": false
    }
  },
  {
    "data": {
      "id": "result_7",
      "label": "ProductDescription[64]",
      "similarity_score": 0.39967303631796386,
      "type": "ProductDescription",
      "content": "Table: ProductDescription. Description: This bike delivers a high-level of performance on a budget. It is responsive and maneuverable, and offers peace-of-mind when you decide to go off-road.. rowguid",
      "metadata": {
        "id": "ProductDescription_4",
        "type": "database_table",
        "table_name": "ProductDescription",
        "row_index": 4,
        "source_file": "data/ProductDescription.csv",
        "entity_id": 64
      },
      "has_neo4j": false
    }
  },
  {
    "data": {
      "id": "connected_product_784",
      "label": "Mountain-200 Black, 46",
      "type": "Product",
      "similarity_score": 0.0,
      "is_connected": true,
      "neo4j_data": {
        "embedding_id": "Product_784",
        "category_name": "Mountain Bikes",
        "sell_start_date": "2006-07-01 00:00:00.000",
        "color": "Black",
        "weight": "10945.13",
        "list_price": 2294.99,
        "model_id": 20,
        "product_number": "BK-M68B-46",
        "size": "46",
        "model_name": "Unknown",
        "category_id": 5,
        "product_id": 784,
        "name": "Mountain-200 Black, 46",
        "embedding_index": 79,
        "embedding_text": "Table: Product. Name: Mountain-200 Black, 46. rowguid: 33F42284-E216-4B98-BA48-B4EE18A01FA0. ProductID: 784. ProductNumber: BK-M68B-46. SellStartDate: 2006-07-01 00:00:00.000. Color: Black. StandardCo",
        "standard_cost": 1251.9813
      },
      "has_neo4j": true
    }
  },
  {
    "data": {
      "id": "connected_product_788",
      "label": "Mountain-300 Black, 48",
      "type": "Product",
      "similarity_score": 0.0,
      "is_connected": true,
      "neo4j_data": {
        "embedding_id": "Product_788",
        "category_name": "Mountain Bikes",
        "sell_start_date": "2006-07-01 00:00:00.000",
        "color": "Black",
        "weight": "11983.85",
        "list_price": 1079.99,
        "model_id": 21,
        "product_number": "BK-M47B-48",
        "size": "48",
        "model_name": "Unknown",
        "category_id": 5,
        "product_id": 788,
        "name": "Mountain-300 Black, 48",
        "embedding_index": 83,
        "embedding_text": "Table: Product. Name: Mountain-300 Black, 48. rowguid: 16078DBE-388D-4C18-AA8F-0C8F48035468. ProductID: 788. ProductNumber: BK-M47B-48. SellStartDate: 2006-07-01 00:00:00.000. Color: Black. StandardCo",
        "standard_cost": 598.4354
      },
      "has_neo4j": true
    }
  },
  {
    "data": {
      "id": "connected_product_781",
      "label": "Mountain-200 Silver, 46",
      "type": "Product",
      "similarity_score": 0.0,
      "is_connected": true,
      "neo4j_data": {
        "embedding_id": "Product_781",
        "category_name": "Mountain Bikes",
        "sell_start_date": "2006-07-01 00:00:00.000",
        "color": "Silver",
        "weight": "10945.13",
        "list_price": 2319.99,
        "model_id": 20,
        "product_number": "BK-M68S-46",
        "size": "46",
        "model_name": "Unknown",
        "category_id": 5,
        "product_id": 781,
        "name": "Mountain-200 Silver, 46",
        "embedding_index": 76,
        "embedding_text": "Table: Product. Name: Mountain-200 Silver, 46. rowguid: 20799030-420C-496A-9922-09189C2B457E. ProductID: 781. ProductNumber: BK-M68S-46. SellStartDate: 2006-07-01 00:00:00.000. Color: Silver. Standard",
        "standard_cost": 1265.6195
      },
      "has_neo4j": true
    }
  },
  {
    "data": {
      "id": "connected_product_776",
      "label": "Mountain-100 Black, 42",
      "type": "Product",
      "similarity_score": 0.0,
      "is_connected": true,
      "neo4j_data": {
        "embedding_id": "Product_776",
        "category_name": "Mountain Bikes",
        "sell_start_date": "2005-07-01 00:00:00.000",
        "color": "Black",
        "weight": "9421.06",
        "list_price": 3374.99,
        "model_id": 19,
        "product_number": "BK-M82B-42",
        "size": "42",
        "model_name": "Unknown",
        "category_id": 5,
        "product_id": 776,
        "name": "Mountain-100 Black, 42",
        "embedding_index": 71,
        "embedding_text": "Table: Product. Name: Mountain-100 Black, 42. rowguid: 02935111-A546-4C6D-941F-BE12D42C158E. ProductID: 776. ProductNumber: BK-M82B-42. SellStartDate: 2005-07-01 00:00:00.000. Color: Black. StandardCo",
        "standard_cost": 1898.0944
      },
      "has_neo4j": true
    }
  },
  {
    "data": {
      "id": "connected_product_772",
      "label": "Mountain-100 Silver, 42",
      "type": "Product",
      "similarity_score": 0.0,
      "is_connected": true,
      "neo4j_data": {
        "embedding_id": "Product_772",
        "category_name": "Mountain Bikes",
        "sell_start_date": "2005-07-01 00:00:00.000",
        "color": "Silver",
        "weight": "9421.06",
        "list_price": 3399.99,
        "model_id": 19,
        "product_number": "BK-M82S-42",
        "size": "42",
        "model_name": "Unknown",
        "category_id": 5,
        "product_id": 772,
        "name": "Mountain-100 Silver, 42",
        "embedding_index": 67,
        "embedding_text": "Table: Product. Name: Mountain-100 Silver, 42. rowguid: BBFFF5A5-4BDC-49A9-A5AD-7584ADFFE808. ProductID: 772. ProductNumber: BK-M82S-42. SellStartDate: 2005-07-01 00:00:00.000. Color: Silver. Standard",
        "standard_cost": 1912.1544
      },
      "has_neo4j": true
    }
  },
  {
    "data": {
      "id": "connected_product_771",
      "label": "Mountain-100 Silver, 38",
      "type": "Product",
      "similarity_score": 0.0,
      "is_connected": true,
      "neo4j_data": {
        "embedding_id": "Product_771",
        "category_name": "Mountain Bikes",
        "sell_start_date": "2005-07-01 00:00:00.000",
        "color": "Silver",
        "weight": "9230.56",
        "list_price": 3399.99,
        "model_id": 19,
        "product_number": "BK-M82S-38",
        "size": "38",
        "model_name": "Unknown",
        "category_id": 5,
        "product_id": 771,
        "name": "Mountain-100 Silver, 38",
        "embedding_index": 66,
        "embedding_text": "Table: Product. Name: Mountain-100 Silver, 38. rowguid: CA74B54E-FC30-4464-8B83-019BFD1B2DBB. ProductID: 771. ProductNumber: BK-M82S-38. SellStartDate: 2005-07-01 00:00:00.000. Color: Silver. Standard",
        "standard_cost": 1912.1544
      },
      "has_neo4j": true
    }
  },
  {
    "data": {
      "id": "connected_product_782",
      "label": "Mountain-200 Black, 38",
      "type": "Product",
      "similarity_score": 0.0,
      "is_connected": true,
      "neo4j_data": {
        "embedding_id": "Product_782",
        "category_name": "Mountain Bikes",
        "sell_start_date": "2006-07-01 00:00:00.000",
        "color": "Black",
        "weight": "10591.33",
        "list_price": 2294.99,
        "model_id": 20,
        "product_number": "BK-M68B-38",
        "size": "38",
        "model_name": "Unknown",
        "category_id": 5,
        "product_id": 782,
        "name": "Mountain-200 Black, 38",
        "embedding_index": 77,
        "embedding_text": "Table: Product. Name: Mountain-200 Black, 38. rowguid: 82CB8F9B-B8BB-4841-98D3-BCDB807C4DD8. ProductID: 782. ProductNumber: BK-M68B-38. SellStartDate: 2006-07-01 00:00:00.000. Color: Black. StandardCo",
        "standard_cost": 1251.9813
      },
      "has_neo4j": true
    }
  },
  {
    "data": {
      "id": "connected_product_786",
      "label": "Mountain-300 Black, 40",
      "type": "Product",
      "similarity_score": 0.0,
      "is_connected": true,
      "neo4j_data": {
        "embedding_id": "Product_786",
        "category_name": "Mountain Bikes",
        "sell_start_date": "2006-07-01 00:00:00.000",
        "color": "Black",
        "weight": "11689.01",
        "list_price": 1079.99,
        "model_id": 21,
        "product_number": "BK-M47B-40",
        "size": "40",
        "model_name": "Unknown",
        "category_id": 5,
        "product_id": 786,
        "name": "Mountain-300 Black, 40",
        "embedding_index": 81,
        "embedding_text": "Table: Product. Name: Mountain-300 Black, 40. rowguid: 580D4322-BE03-4C91-83D2-EE33EC6008AB. ProductID: 786. ProductNumber: BK-M47B-40. SellStartDate: 2006-07-01 00:00:00.000. Color: Black. StandardCo",
        "standard_cost": 598.4354
      },
      "has_neo4j": true
    }
  },
  {
    "data": {
      "id": "connected_product_783",
      "label": "Mountain-200 Black, 42",
      "type": "Product",
      "similarity_score": 0.0,
      "is_connected": true,
      "neo4j_data": {
        "embedding_id": "Product_783",
        "category_name": "Mountain Bikes",
        "sell_start_date": "2006-07-01 00:00:00.000",
        "color": "Black",
        "weight": "10781.83",
        "list_price": 2294.99,
        "model_id": 20,
        "product_number": "BK-M68B-42",
        "size": "42",
        "model_name": "Unknown",
        "category_id": 5,
        "product_id": 783,
        "name": "Mountain-200 Black, 42",
        "embedding_index": 78,
        "embedding_text": "Table: Product. Name: Mountain-200 Black, 42. rowguid: 2B0AF5B9-7571-4621-B760-47DF599F9650. ProductID: 783. ProductNumber: BK-M68B-42. SellStartDate: 2006-07-01 00:00:00.000. Color: Black. StandardCo",
        "standard_cost": 1251.9813
      },
      "has_neo4j": true
    }
  },
  {
    "data": {
      "id": "connected_product_785",
      "label": "Mountain-300 Black, 38",
      "type": "Product",
      "similarity_score": 0.0,
      "is_connected": true,
      "neo4j_data": {
        "embedding_id": "Product_785",
        "category_name": "Mountain Bikes",
        "sell_start_date": "2006-07-01 00:00:00.000",
        "color": "Black",
        "weight": "11498.51",
        "list_price": 1079.99,
        "model_id": 21,
        "product_number": "BK-M47B-38",
        "size": "38",
        "model_name": "Unknown",
        "category_id": 5,
        "product_id": 785,
        "name": "Mountain-300 Black, 38",
        "embedding_index": 80,
        "embedding_text": "Table: Product. Name: Mountain-300 Black, 38. rowguid: F06C2CBF-0901-4C08-80ED-FB4E87171B3B. ProductID: 785. ProductNumber: BK-M47B-38. SellStartDate: 2006-07-01 00:00:00.000. Color: Black. StandardCo",
        "standard_cost": 598.4354
      },
      "has_neo4j": true
    }
  },
  {
    "data": {
      "id": "connected_product_780",
      "label": "Mountain-200 Silver, 42",
      "type": "Product",
      "similarity_score": 0.0,
      "is_connected": true,
      "neo4j_data": {
        "embedding_id": "Product_780",
        "category_name": "Mountain Bikes",
        "sell_start_date": "2006-07-01 00:00:00.000",
        "color": "Silver",
        "weight": "10781.83",
        "list_price": 2319.99,
        "model_id": 20,
        "product_number": "BK-M68S-42",
        "size": "42",
        "model_name": "Unknown",
        "category_id": 5,
        "product_id": 780,
        "name": "Mountain-200 Silver, 42",
        "embedding_index": 75,
        "embedding_text": "Table: Product. Name: Mountain-200 Silver, 42. rowguid: CE4849B4-56E6-4B50-808B-9BDE67CC4704. ProductID: 780. ProductNumber: BK-M68S-42. SellStartDate: 2006-07-01 00:00:00.000. Color: Silver. Standard",
        "standard_cost": 1265.6195
      },
      "has_neo4j": true
    }
  },
  {
    "data": {
      "id": "connected_product_774",
      "label": "Mountain-100 Silver, 48",
      "type": "Product",
      "similarity_score": 0.0,
      "is_connected": true,
      "neo4j_data": {
        "embedding_id": "Product_774",
        "category_name": "Mountain Bikes",
        "sell_start_date": "2005-07-01 00:00:00.000",
        "color": "Silver",
        "weight": "9715.9",
        "list_price": 3399.99,
        "model_id": 19,
        "product_number": "BK-M82S-48",
        "category_id": 5,
        "model_name": "Unknown",
        "size": "48",
        "product_id": 774,
        "name": "Mountain-100 Silver, 48",
        "embedding_index": 69,
        "embedding_text": "Table: Product. Name: Mountain-100 Silver, 48. rowguid: BA5551DF-C9EE-4B43-B3CA-8C19D0F9384D. ProductID: 774. ProductNumber: BK-M82S-48. SellStartDate: 2005-07-01 00:00:00.000. Color: Silver. Standard",
        "standard_cost": 1912.1544
      },
      "has_neo4j": true
    }
  },
  {
    "data": {
      "id": "connected_product_775",
      "label": "Mountain-100 Black, 38",
      "type": "Product",
      "similarity_score": 0.0,
      "is_connected": true,
      "neo4j_data": {
        "embedding_id": "Product_775",
        "category_name": "Mountain Bikes",
        "sell_start_date": "2005-07-01 00:00:00.000",
        "color": "Black",
        "weight": "9230.56",
        "list_price": 3374.99,
        "model_id": 19,
        "product_number": "BK-M82B-38",
        "size": "38",
        "model_name": "Unknown",
        "category_id": 5,
        "product_id": 775,
        "name": "Mountain-100 Black, 38",
        "embedding_index": 70,
        "embedding_text": "Table: Product. Name: Mountain-100 Black, 38. rowguid: DEA33347-FCD3-4346-AA0F-068CD6B3AD06. ProductID: 775. ProductNumber: BK-M82B-38. SellStartDate: 2005-07-01 00:00:00.000. Color: Black. StandardCo",
        "standard_cost": 1898.0944
      },
      "has_neo4j": true
    }
  },
  {
    "data": {
      "id": "connected_product_777",
      "label": "Mountain-100 Black, 44",
      "type": "Product",
      "similarity_score": 0.0,
      "is_connected": true,
      "neo4j_data": {
        "embedding_id": "Product_777",
        "category_name": "Mountain Bikes",
        "sell_start_date": "2005-07-01 00:00:00.000",
        "color": "Black",
        "weight": "9584.36",
        "list_price": 3374.99,
        "model_id": 19,
        "product_number": "BK-M82B-44",
        "size": "44",
        "model_name": "Unknown",
        "category_id": 5,
        "product_id": 777,
        "name": "Mountain-100 Black, 44",
        "embedding_index": 72,
        "embedding_text": "Table: Product. Name: Mountain-100 Black, 44. rowguid: 7920BC3B-8FD4-4610-93D2-E693A66B6474. ProductID: 777. ProductNumber: BK-M82B-44. SellStartDate: 2005-07-01 00:00:00.000. Color: Black. StandardCo",
        "standard_cost": 1898.0944
      },
      "has_neo4j": true
    }
  },
  {
    "data": {
      "id": "connected_product_710",
      "label": "Mountain Bike Socks, L",
      "type": "Product",
      "similarity_score": 0.0,
      "is_connected": true,
      "neo4j_data": {
        "embedding_id": "Product_710",
        "category_name": "Socks",
        "sell_start_date": "2005-07-01 00:00:00.000",
        "color": "White",
        "weight": "",
        "list_price": 9.5,
        "model_id": 18,
        "product_number": "SO-B909-L",
        "model_name": "Unknown",
        "size": "L",
        "category_id": 27,
        "product_id": 710,
        "name": "Mountain Bike Socks, L",
        "embedding_index": 5,
        "embedding_text": "Table: Product. Name: Mountain Bike Socks, L. rowguid: 161C035E-21B3-4E14-8E44-AF508F35D80A. ProductID: 710. ProductNumber: SO-B909-L. SellStartDate: 2005-07-01 00:00:00.000. Color: White. StandardCos",
        "standard_cost": 3.3963
      },
      "has_neo4j": true
    }
  }
],
                ...[
  {
    "data": {
      "id": "connected_product_784-result_0-DESCRIBED_BY",
      "source": "connected_product_784",
      "target": "result_0",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_788-result_0-DESCRIBED_BY",
      "source": "connected_product_788",
      "target": "result_0",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_781-result_0-DESCRIBED_BY",
      "source": "connected_product_781",
      "target": "result_0",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_776-result_0-DESCRIBED_BY",
      "source": "connected_product_776",
      "target": "result_0",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_772-result_0-DESCRIBED_BY",
      "source": "connected_product_772",
      "target": "result_0",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_771-result_0-DESCRIBED_BY",
      "source": "connected_product_771",
      "target": "result_0",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_782-result_0-DESCRIBED_BY",
      "source": "connected_product_782",
      "target": "result_0",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_786-result_0-DESCRIBED_BY",
      "source": "connected_product_786",
      "target": "result_0",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_783-result_0-DESCRIBED_BY",
      "source": "connected_product_783",
      "target": "result_0",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_785-result_0-DESCRIBED_BY",
      "source": "connected_product_785",
      "target": "result_0",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_780-result_0-DESCRIBED_BY",
      "source": "connected_product_780",
      "target": "result_0",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_774-result_0-DESCRIBED_BY",
      "source": "connected_product_774",
      "target": "result_0",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_775-result_0-DESCRIBED_BY",
      "source": "connected_product_775",
      "target": "result_0",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_777-result_0-DESCRIBED_BY",
      "source": "connected_product_777",
      "target": "result_0",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_710-result_0-DESCRIBED_BY",
      "source": "connected_product_710",
      "target": "result_0",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_784-result_1-DESCRIBED_BY",
      "source": "connected_product_784",
      "target": "result_1",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_788-result_1-DESCRIBED_BY",
      "source": "connected_product_788",
      "target": "result_1",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_781-result_1-DESCRIBED_BY",
      "source": "connected_product_781",
      "target": "result_1",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_776-result_1-DESCRIBED_BY",
      "source": "connected_product_776",
      "target": "result_1",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_772-result_1-DESCRIBED_BY",
      "source": "connected_product_772",
      "target": "result_1",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_771-result_1-DESCRIBED_BY",
      "source": "connected_product_771",
      "target": "result_1",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_782-result_1-DESCRIBED_BY",
      "source": "connected_product_782",
      "target": "result_1",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_786-result_1-DESCRIBED_BY",
      "source": "connected_product_786",
      "target": "result_1",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_783-result_1-DESCRIBED_BY",
      "source": "connected_product_783",
      "target": "result_1",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_785-result_1-DESCRIBED_BY",
      "source": "connected_product_785",
      "target": "result_1",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_780-result_1-DESCRIBED_BY",
      "source": "connected_product_780",
      "target": "result_1",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_774-result_1-DESCRIBED_BY",
      "source": "connected_product_774",
      "target": "result_1",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_775-result_1-DESCRIBED_BY",
      "source": "connected_product_775",
      "target": "result_1",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_777-result_1-DESCRIBED_BY",
      "source": "connected_product_777",
      "target": "result_1",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_710-result_1-DESCRIBED_BY",
      "source": "connected_product_710",
      "target": "result_1",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_784-result_2-DESCRIBED_BY",
      "source": "connected_product_784",
      "target": "result_2",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_788-result_2-DESCRIBED_BY",
      "source": "connected_product_788",
      "target": "result_2",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_781-result_2-DESCRIBED_BY",
      "source": "connected_product_781",
      "target": "result_2",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_776-result_2-DESCRIBED_BY",
      "source": "connected_product_776",
      "target": "result_2",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_772-result_2-DESCRIBED_BY",
      "source": "connected_product_772",
      "target": "result_2",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_771-result_2-DESCRIBED_BY",
      "source": "connected_product_771",
      "target": "result_2",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_782-result_2-DESCRIBED_BY",
      "source": "connected_product_782",
      "target": "result_2",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_786-result_2-DESCRIBED_BY",
      "source": "connected_product_786",
      "target": "result_2",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_783-result_2-DESCRIBED_BY",
      "source": "connected_product_783",
      "target": "result_2",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_785-result_2-DESCRIBED_BY",
      "source": "connected_product_785",
      "target": "result_2",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_780-result_2-DESCRIBED_BY",
      "source": "connected_product_780",
      "target": "result_2",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_774-result_2-DESCRIBED_BY",
      "source": "connected_product_774",
      "target": "result_2",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_775-result_2-DESCRIBED_BY",
      "source": "connected_product_775",
      "target": "result_2",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_777-result_2-DESCRIBED_BY",
      "source": "connected_product_777",
      "target": "result_2",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_710-result_2-DESCRIBED_BY",
      "source": "connected_product_710",
      "target": "result_2",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_784-result_3-DESCRIBED_BY",
      "source": "connected_product_784",
      "target": "result_3",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_788-result_3-DESCRIBED_BY",
      "source": "connected_product_788",
      "target": "result_3",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_781-result_3-DESCRIBED_BY",
      "source": "connected_product_781",
      "target": "result_3",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_776-result_3-DESCRIBED_BY",
      "source": "connected_product_776",
      "target": "result_3",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_772-result_3-DESCRIBED_BY",
      "source": "connected_product_772",
      "target": "result_3",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_771-result_3-DESCRIBED_BY",
      "source": "connected_product_771",
      "target": "result_3",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_782-result_3-DESCRIBED_BY",
      "source": "connected_product_782",
      "target": "result_3",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_786-result_3-DESCRIBED_BY",
      "source": "connected_product_786",
      "target": "result_3",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_783-result_3-DESCRIBED_BY",
      "source": "connected_product_783",
      "target": "result_3",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_785-result_3-DESCRIBED_BY",
      "source": "connected_product_785",
      "target": "result_3",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_780-result_3-DESCRIBED_BY",
      "source": "connected_product_780",
      "target": "result_3",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_774-result_3-DESCRIBED_BY",
      "source": "connected_product_774",
      "target": "result_3",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_775-result_3-DESCRIBED_BY",
      "source": "connected_product_775",
      "target": "result_3",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_777-result_3-DESCRIBED_BY",
      "source": "connected_product_777",
      "target": "result_3",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  },
  {
    "data": {
      "id": "connected_product_710-result_3-DESCRIBED_BY",
      "source": "connected_product_710",
      "target": "result_3",
      "relationship": "DESCRIBED_BY",
      "is_expansion": true
    }
  }
]
            ],
            
            style: [
                                 {
                     selector: 'node',
                     style: {
                         'background-color': function(node) {
                             const isConnected = node.data('is_connected');
                             if (isConnected) return '#95a5a6';  // Gray for connected nodes
                             
                             const score = node.data('similarity_score');
                             if (score > 0.7) return '#ff6b6b';
                             if (score > 0.4) return '#4ecdc4';
                             return '#45b7d1';
                         },
                         'label': 'data(label)',
                         'text-valign': 'center',
                         'text-halign': 'center',
                         'text-wrap': 'wrap',
                         'text-max-width': '120px',
                         'width': function(node) {
                             const isConnected = node.data('is_connected');
                             if (isConnected) return 50;  // Fixed size for connected nodes
                             
                             const score = node.data('similarity_score');
                             return Math.max(40, score * 80);
                         },
                         'height': function(node) {
                             const isConnected = node.data('is_connected');
                             if (isConnected) return 50;  // Fixed size for connected nodes
                             
                             const score = node.data('similarity_score');
                             return Math.max(40, score * 80);
                         },
                         'font-size': '12px',
                         'font-weight': 'bold',
                         'color': 'white',
                         'text-outline-width': 2,
                         'text-outline-color': 'rgba(0,0,0,0.5)',
                         'border-width': function(node) {
                             const isConnected = node.data('is_connected');
                             return isConnected ? 3 : 2;
                         },
                         'border-color': function(node) {
                             const isConnected = node.data('is_connected');
                             return isConnected ? '#7f8c8d' : '#333';
                         },
                         'border-style': function(node) {
                             const isConnected = node.data('is_connected');
                             return isConnected ? 'dashed' : 'solid';
                         }
                     }
                 },
                {
                    selector: 'edge',
                    style: {
                        'width': 3,
                        'line-color': '#666',
                        'target-arrow-color': '#666',
                        'target-arrow-shape': 'triangle',
                        'curve-style': 'bezier',
                        'label': 'data(relationship)',
                        'font-size': '10px',
                        'text-rotation': 'autorotate',
                        'text-margin-y': -10
                    }
                },
                {
                    selector: 'node:selected',
                    style: {
                        'border-width': 4,
                        'border-color': '#ffeb3b'
                    }
                }
            ],
            
            layout: {
                name: 'cose',
                idealEdgeLength: 100,
                nodeOverlap: 20,
                refresh: 20,
                fit: true,
                padding: 30,
                randomize: false,
                componentSpacing: 100,
                nodeRepulsion: 400000,
                edgeElasticity: 100,
                nestingFactor: 5,
                gravity: 80,
                numIter: 1000,
                initialTemp: 200,
                coolingFactor: 0.95,
                minTemp: 1
            }
        });
        
                 // Handle node selection
         cy.on('tap', 'node', function(evt) {
             const node = evt.target;
             const data = node.data();
             
                           // Build dynamic info based on available data
              const isConnected = data.is_connected;
              const nodeTypeLabel = isConnected ? "Connected Node" : "Matched Node";
              
              let infoHTML = `
                  <h3>Node Information</h3>
                  <div class="node-info">
                      <h4>${data.label}</h4>
                      <p><strong>Type:</strong> ${data.type} (${nodeTypeLabel})</p>
              `;
              
              if (!isConnected) {
                  infoHTML += `
                      <div class="similarity-score">
                          Similarity: ${(data.similarity_score * 100).toFixed(1)}%
                      </div>
                  `;
              } else {
                  infoHTML += `
                      <div style="background-color: #e9ecef; padding: 5px 10px; border-radius: 3px; color: #495057;">
                          Connected via ANNOTATION/DESCRIBED_BY
                      </div>
                  `;
              }
             
             // Add Neo4j data if available
             if (data.has_neo4j && data.neo4j_data) {
                 const neo4j = data.neo4j_data;
                 infoHTML += '<p><strong>Neo4j Properties:</strong></p><ul>';
                 
                 // Show relevant properties
                 if (neo4j.category) infoHTML += `<li>Category: ${neo4j.category}</li>`;
                 if (neo4j.price) infoHTML += `<li>Price: $$${neo4j.price}</li>`;
                 if (neo4j.color) infoHTML += `<li>Color: ${neo4j.color}</li>`;
                 if (neo4j.size) infoHTML += `<li>Size: ${neo4j.size}</li>`;
                 if (neo4j.parent) infoHTML += `<li>Parent ID: ${neo4j.parent}</li>`;
                 if (neo4j.document) infoHTML += `<li>Document: ${neo4j.document}</li>`;
                 
                 infoHTML += '</ul>';
             } else {
                 // Show metadata for non-Neo4j nodes
                 if (data.metadata) {
                     infoHTML += '<p><strong>Metadata:</strong></p><ul>';
                     if (data.metadata.table_name) infoHTML += `<li>Table: ${data.metadata.table_name}</li>`;
                     if (data.metadata.entity_id) infoHTML += `<li>Entity ID: ${data.metadata.entity_id}</li>`;
                     if (data.metadata.filename) infoHTML += `<li>File: ${data.metadata.filename}</li>`;
                     infoHTML += '</ul>';
                 }
             }
             
             // Show content preview
             if (data.content && data.content.length > 0) {
                 infoHTML += `<p><strong>Content:</strong></p><p style="font-size: 12px; color: #666; max-height: 100px; overflow-y: auto;">${data.content}...</p>`;
             }
             
             infoHTML += '</div>';
             
             document.getElementById('selection-info').innerHTML = infoHTML;
         });
        
        // Handle edge selection
        cy.on('tap', 'edge', function(evt) {
            const edge = evt.target;
            const data = edge.data();
            
            const infoHTML = `
                <h3>Relationship Information</h3>
                <div class="node-info">
                    <h4>${data.relationship}</h4>
                    <p><strong>From:</strong> ${data.source}</p>
                    <p><strong>To:</strong> ${data.target}</p>
                </div>
            `;
            
            document.getElementById('selection-info').innerHTML = infoHTML;
        });
        
        // Handle background tap
        cy.on('tap', function(evt) {
            if (evt.target === cy) {
                document.getElementById('selection-info').innerHTML = `
                    <h3>Node Information</h3>
                    <p>Click on a node to see details</p>
                `;
            }
        });
        
        console.log('Graph loaded with', cy.nodes().length, 'nodes and', cy.edges().length, 'edges');
    </script>
</body>
</html>
        